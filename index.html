<html>
    <head>
        <meta name="description" content="Koncerto is a simple PHP framework. The main concept is to have a light PHP framework in a single PHP script. Koncerto uses TinyButStrong for its template engine. https://github.com/koncerto-framework">
        <meta name="google-site-verification" content="QU1F7uhFGM5se6kjAHMdumz-5qhnifAqHdgAQdewGRk" />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@1.0.4/css/bulma.min.css">
        <script async type="module" src="https://cdn.jsdelivr.net/npm/php-wasm@0.0.9-alpha-20/php-tags.mjs"></script>
        <script type="text/javascript">

            function proxy(url) {
                return `https://api.codetabs.com/v1/proxy?quest=${encodeURIComponent(url)}`;
            }

            var files = [
                {
                    name: 'koncerto.php',
                    parent: '/preload/',
                    url : proxy('https://github.com/koncerto-framework/koncerto-playground/raw/refs/heads/main/koncerto.php')
                },
                {
                    name: 'tbs_class.php',
                    parent: '/preload/',
                    url : proxy('https://github.com/Skrol29/tinybutstrong/raw/refs/heads/master/tbs_class.php')
                }
            ];
            var script = document.createElement('script');
            script.setAttribute('type', 'text/php');
            script.setAttribute('data-files', JSON.stringify(files));
            script.setAttribute('data-stdout', ':root');
            script.innerText = `<?php

                $storage = array(
                    '_cache' => array(),
                    '_controller' => array(
                        'HomeController.php'
                    ),
                    '_templates' => array(
                        '_layout.tbs.html',
                        'index.tbs.html'
                    )
                );

                foreach ($storage as $dir => $files) {
                    if (!is_dir($dir)) {
                        mkdir($dir);
                    }
                    foreach ($files as $file) {
                        file_put_contents(
                            sprintf('%s/%s', $dir, $file),
                            file_get_contents(sprintf(
                                'https://api.codetabs.com/v1/proxy?quest=https://github.com/koncerto-framework/koncerto-framework.github.io/raw/refs/heads/main/%s/%s',
                                $dir,
                                $file
                            ))
                        );
                    }
                }

                require_once('/preload/koncerto.php');

                echo Koncerto::response();
            `;

            document.querySelectorAll('.navbar-dropdown a').forEach(function (a) {
                a.addEventListener('click', function() {
                    a.parentNode.style.display = 'none';
                    setTimeout(function() {
                        a.parentNode.style.display = '';
                        a.blur();
                    }, 100);
                })
            });

            var head = document.getElementsByTagName('head')[0];
            head.appendChild(script);
        </script>
    </head>
    <body>
        <div class="container is-fluid" style="height: 100vh;">
            <div class="columns is-mobile is-vcentered" style="height: 100%;">
                <div class="column"></div>
                <div class="column is-narrow"><span class="loader" style="width: 100px; height: 100px;"></span></div>
                <div class="column"></div>
            </div>
        </div>
        <div class="is-hidden">
            <section class="section">
                <h1 class="title">Koncerto</h1>
                <p class="subtitle">Welcome</p>
                <p>Koncerto is a simple PHP framework.</p>
                <p>The main concept is to have a light PHP framework in a single PHP script.</p>
                <p>Koncerto uses TinyButStrong for its template engine.</p>
                <p><a href="https://github.com/koncerto-framework/koncerto-framework/wiki/Introduction" target="_blank">Documentation</a></p>
            </section>
        </div>
    </body>
</html>
